// Include the following block in the build script of the root project to be able to use license
//buildscript {
//  apply from: "$gradleScriptsDir/license-buildscript.gradle", to:buildscript
//}

if(rootProject.generateLicenseReportEnabled == 'true') {
  apply plugin: 'com.github.jk1.dependency-license-report' // https://plugins.gradle.org/plugin/com.github.jk1.dependency-license-report

  licenseReport {
    outputDir = "${project.buildDir}/reports/dependency-license"
  }

  report.dependsOn generateLicenseReport

  apply plugin: 'license-report' // https://github.com/RobertFischer/Gradle-License-Report/blob/master/README.md

  dependencyLicenseReport {
    outputFile = "${project.buildDir}/reports/dependency-license-2"
  }

  // Not generated by default part of the report task
  //report.dependsOn dependencyLicenseReport

  if (false) {
    apply plugin: "com.github.hierynomus.license" // https://github.com/hierynomus/license-gradle-plugin

    license {
      header = rootProject.file("$gradleScriptsDir/license-config/HEADER")
      strictCheck = true
      ignoreFailures = false
      mapping {
        java = 'SLASHSTAR_STYLE'
        scala = 'SLASHSTAR_STYLE'
      }
      excludes(['**/*.xml', '**/*.xsd', '**/*.pddl', '**/*.yaml'])
    }

    downloadLicenses {
      licenses = [
        (group('org.benhur')) : license('MIT')
      ]
      includeProjectDependencies = true
    }

    // Not generated by default part of the report task
    report.dependsOn downloadLicenses
  }
}